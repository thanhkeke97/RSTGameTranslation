<Window x:Class="RSTGameTranslation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RSTGameTranslation"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        mc:Ignorable="d"
        Title="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[App_Title]}"
        Height="600" Width="1000"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="False"
        Icon="/media/AppIcon.ico">
    <WindowChrome.WindowChrome>
        <WindowChrome ResizeBorderThickness="15" CaptionHeight="10" GlassFrameThickness="0" UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>
      
    <Window.Resources>
        <!-- Color Palette (light high-contrast) -->
        <Color x:Key="BgColor">#F7FAFC</Color>
        <Color x:Key="SurfaceColor">#FFFFFF</Color>
        <Color x:Key="Surface2Color">#F3F8FD</Color>
        <Color x:Key="Surface3Color">#EBF4FB</Color>
        <Color x:Key="AccentColor">#0066CC</Color>
        <Color x:Key="BorderColor">#E0ECF8</Color>
        <Color x:Key="NeutralBgColor">#E6EEF3</Color>
        
        <SolidColorBrush x:Key="BgBrush" Color="{StaticResource BgColor}"/>
        <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource SurfaceColor}"/>
        <SolidColorBrush x:Key="Surface2Brush" Color="{StaticResource Surface2Color}"/>
        <SolidColorBrush x:Key="Surface3Brush" Color="{StaticResource Surface3Color}"/>
        <SolidColorBrush x:Key="NeutralBgBrush" Color="{StaticResource NeutralBgColor}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}"/>
        <SolidColorBrush x:Key="TextBrush" Color="#0B2545"/>
        <SolidColorBrush x:Key="MutedBrush" Color="#5B6B7A"/>

        <!-- Modern Button Style with Smooth Animations -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="borderScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleX" 
                                                           To="1.03" Duration="0:0:0.15"/>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleY" 
                                                           To="1.03" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleX" 
                                                           To="1" Duration="0:0:0.15"/>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleY" 
                                                           To="1" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.8"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleX" 
                                                           To="0.97" Duration="0:0:0.08"/>
                                            <DoubleAnimation Storyboard.TargetName="borderScale" 
                                                           Storyboard.TargetProperty="ScaleY" 
                                                           To="0.97" Duration="0:0:0.08"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Tool Group Style with Hover Animation -->
        <Style x:Key="ToolGroupStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource Surface2Brush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,0,8,8"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <TranslateTransform Y="0"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(Border.RenderTransform).(TranslateTransform.Y)"
                                               To="-2" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <QuadraticEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(Border.RenderTransform).(TranslateTransform.Y)"
                                               To="0" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <QuadraticEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Neutral button used for subtle actions (Clear / Show) with Animation -->
        <Style x:Key="NeutralButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="{StaticResource NeutralBgBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="MinWidth" Value="70"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" Padding="{TemplateBinding Padding}"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="neutralBorderScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource Surface2Brush}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#22000000" BlurRadius="8" ShadowDepth="1" Opacity="0.15"/>
                                    </Setter.Value>
                                </Setter>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleX" To="1.03" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleY" To="1.03" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                <Setter TargetName="border" Property="Effect" Value="{x:Null}"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleX" To="0.97" Duration="0:0:0.06"/>
                                            <DoubleAnimation Storyboard.TargetName="neutralBorderScale" Storyboard.TargetProperty="ScaleY" To="0.97" Duration="0:0:0.06"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Primary toolbar button (consistent size like Start/Stop) -->
        <Style x:Key="ToolbarPrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <!-- Accent (solid) button style with Animation -->
        <Style x:Key="AccentButton" TargetType="Button" BasedOn="{StaticResource ToolbarPrimaryButton}">
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#330066CC" BlurRadius="12" ShadowDepth="2" Opacity="0.45"/>
                </Setter.Value>
            </Setter>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="accentBorderScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.95"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleX" To="1.04" Duration="0:0:0.15">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleY" To="1.04" Duration="0:0:0.15">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"/>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.85"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleX" To="0.96" Duration="0:0:0.08"/>
                                            <DoubleAnimation Storyboard.TargetName="accentBorderScale" Storyboard.TargetProperty="ScaleY" To="0.96" Duration="0:0:0.08"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Prominent gradient button with Animation -->
        <Style x:Key="ProminentGradientButton" TargetType="Button" BasedOn="{StaticResource ToolbarPrimaryButton}">
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#33000000" BlurRadius="14" ShadowDepth="2" Opacity="0.35"/>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="prominentBorderScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.95"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleX" To="1.05" Duration="0:0:0.15">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleY" To="1.05" Duration="0:0:0.15">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"/>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.85"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleX" To="0.96" Duration="0:0:0.08"/>
                                            <DoubleAnimation Storyboard.TargetName="prominentBorderScale" Storyboard.TargetProperty="ScaleY" To="0.96" Duration="0:0:0.08"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Tool Group Label Style -->
        <Style x:Key="ToolGroupLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource MutedBrush}"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,6,0,0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style> 

        <!-- Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource Surface2Brush}"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <!-- Status Badge Style -->
        <Style x:Key="StatusBadge" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>

        <!-- Hotkey Item Style -->
        <Style x:Key="HotkeyItem" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,0,8,8"/>
        </Style>

        <!-- Hotkey Key Style -->
        <Style x:Key="HotkeyKey" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource Surface3Brush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,3"/>
        </Style>

        <!-- Window Control Button Style -->
        <Style x:Key="WindowControlButton" TargetType="Button">
            <Setter Property="Width" Value="14"/>
            <Setter Property="Height" Value="14"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Margin" Value="4,0,0,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Ellipse x:Name="circle" Fill="{TemplateBinding Background}"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="circle" Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid Background="Transparent">
        <!-- System Tray Icon -->
        <tb:TaskbarIcon x:Name="MyNotifyIcon"
                        IconSource="/media/AppIcon.ico"
                        ToolTipText="RSTGameTranslation"
                        TrayMouseDoubleClick="TrayIcon_DoubleClick">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Start]}" Click="TrayStartStop_Click" />
                    <MenuItem Header="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Overlay]}" Click="TrayOverlay_Click" />
                    <Separator />
                    <MenuItem Header="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Settings]}" Click="TraySettings_Click" />
                    <Separator />
                    <MenuItem Header="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Exit]}" Click="TrayExit_Click" />
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>

        <!-- Main Window Frame -->
        <Border Name="MainBorder" Background="{StaticResource SurfaceBrush}" CornerRadius="12" 
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect BlurRadius="25" ShadowDepth="0" Opacity="0.6" Color="Black"/>
            </Border.Effect>
            
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/> <!-- Title Bar -->
                    <RowDefinition Height="Auto"/> <!-- Toolbar -->
                    <RowDefinition Height="*"/>    <!-- Content -->
                    <RowDefinition Height="Auto"/> <!-- Footer -->
                </Grid.RowDefinitions>

                <!-- ========== TITLE BAR ========== -->
                <Border Name="HeaderBorder" Grid.Row="0" Background="{StaticResource Surface2Brush}" 
                        CornerRadius="12,12,0,0" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1"
                        MouseLeftButtonDown="Header_MouseLeftButtonDown"
                        WindowChrome.IsHitTestVisibleInChrome="True">
                    <Grid Height="40" Margin="12,0">
                        <!-- Left: Logo + Title -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                            <Border Width="24" Height="24" CornerRadius="5" Margin="0,0,10,0">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#00aaff" Offset="0"/>
                                        <GradientStop Color="#00cc88" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Image Source="/media/AppIcon.ico" Width="16" Height="16" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <TextBlock Text="RSTGameTranslation" FontSize="13" FontWeight="SemiBold" 
                                       Foreground="{StaticResource TextBrush}" VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <!-- Right: Window Controls (with QuickStart & Discord moved here) -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                            <!-- QuickStart (icon-only, calls existing handler) -->
                            <Button x:Name="quickStart" Style="{StaticResource ProminentGradientButton}" Height="30" Margin="0,0,8,0" Click="QuickStartButton_Click" ToolTip="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_QuickStart]}" WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.Background>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                <GradientStop Color="#f97316" Offset="0"/>
                                                <GradientStop Color="#ea580c" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Button.Background>
                                        <StackPanel Orientation="Horizontal" Margin="6,0" VerticalAlignment="Center">
                                            <TextBlock Text="âš¡ " FontSize="12" VerticalAlignment="Center"/>
                                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_QuickStart]}" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Button>

                            <!-- Discord -->
                            <Button x:Name="discordButton" Style="{StaticResource ProminentGradientButton}" Height="30" Margin="0,0,8,0" Click="DiscordButton_Click" ToolTip="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_JoinDiscord]}" WindowChrome.IsHitTestVisibleInChrome="True" Background="#5865f2">
                                        <StackPanel Orientation="Horizontal" Margin="6,0" VerticalAlignment="Center">
                                            <Path Data="M25.0966 7.25C23.2967 6.43 21.3717 5.84 19.3717 5.5C19.0517 6 18.7867 6.58 18.6017 7.05C16.4568 6.73 14.3192 6.73 12.2217 7.05C12.0367 6.58 11.7642 6 11.5217 5.54C9.44 5.84 7.52 6.43 5.72 7.25C2.1 12.67 1.11 17.94 1.61 23.15C4.12 25.02 6.51 26.15 8.87 26.88C9.54 26.05 10.06 25.2 10.52 24.31C9.64 23.88 8.85 23.5 8.08 23.06C8.21 22.82 8.35 22.71 8.48 22.6C13.4 24.82 18.65 24.82 23.44 22.6C23.64 22.71 23.78 22.82 23.92 22.92C23.15 23.5 22.35 23.88 21.52 24.2C21.94 25.2 22.47 26.05 23.04 26.85C25.49 26.15 27.89 25.02 30.36 23.2C30.99 17.12 29.44 11.89 25.92 7.28L25.0966 7.25Z" Fill="White" Stretch="Uniform" Width="14" Height="14" Margin="0,0,6,0"/>
                                            <TextBlock Text="Discord" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                        </StackPanel>
                            </Button>

                            <Button x:Name="minimizeButton" Style="{StaticResource WindowControlButton}"
                                    Background="#ffbd2e" Click="MinimizeButton_Click" 
                                    WindowChrome.IsHitTestVisibleInChrome="True" ToolTip="Minimize"/>
                            <Button Style="{StaticResource WindowControlButton}" Background="#ff5f57" 
                                    Click="CloseButton_Click" WindowChrome.IsHitTestVisibleInChrome="True"
                                    ToolTip="Close"/>
                        </StackPanel>
                    </Grid>
                </Border>
                <!-- ========== TOOLBAR ========== -->
                <Border Grid.Row="1" Background="{StaticResource SurfaceBrush}" 
                        BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
                    <WrapPanel Margin="12,10" Orientation="Horizontal">
                        
                        <!-- GROUP: Control -->
                        <Border Style="{StaticResource ToolGroupStyle}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="toggleButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Start]}"
                                            Background="#22c55e" Click="OnStartButtonToggleClicked" 
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="â–¶ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <Button x:Name="audioServiceButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_AudioService]}"
                                            Background="#6366f1" Click="AudioServiceButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸŽ¤ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_Control]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                                <!-- Hidden controls -->
                                <Button x:Name="hideButton" Content="Hide" Visibility="Collapsed" Click="HideButton_Click"/>
                                <ComboBox x:Name="sourceLanguageComboBox" Width="0" Height="0" Visibility="Collapsed" SelectionChanged="SourceLanguageComboBox_SelectionChanged">
                                    <ComboBoxItem Content="ja"/><ComboBoxItem Content="en"/><ComboBoxItem Content="ch_sim"/><ComboBoxItem Content="ch_tra"/><ComboBoxItem Content="ko"/><ComboBoxItem Content="vi"/><ComboBoxItem Content="fr"/><ComboBoxItem Content="ru"/><ComboBoxItem Content="de"/><ComboBoxItem Content="es"/><ComboBoxItem Content="it"/><ComboBoxItem Content="hi"/><ComboBoxItem Content="pt"/><ComboBoxItem Content="ar"/><ComboBoxItem Content="nl"/><ComboBoxItem Content="pl"/><ComboBoxItem Content="ro"/><ComboBoxItem Content="fa"/><ComboBoxItem Content="cs"/><ComboBoxItem Content="id"/><ComboBoxItem Content="th"/><ComboBoxItem Content="hr"/><ComboBoxItem Content="tr"/><ComboBoxItem Content="si"/><ComboBoxItem Content="da"/><ComboBoxItem Content="uk"/><ComboBoxItem Content="fi"/>
                                </ComboBox>
                                <ComboBox x:Name="targetLanguageComboBox" Width="0" Height="0" Visibility="Collapsed" SelectionChanged="TargetLanguageComboBox_SelectionChanged">
                                    <ComboBoxItem Content="ja"/><ComboBoxItem Content="en"/><ComboBoxItem Content="ch_sim"/><ComboBoxItem Content="ch_tra"/><ComboBoxItem Content="ko"/><ComboBoxItem Content="vi"/><ComboBoxItem Content="fr"/><ComboBoxItem Content="ru"/><ComboBoxItem Content="de"/><ComboBoxItem Content="es"/><ComboBoxItem Content="it"/><ComboBoxItem Content="hi"/><ComboBoxItem Content="pt"/><ComboBoxItem Content="ar"/><ComboBoxItem Content="nl"/><ComboBoxItem Content="pl"/><ComboBoxItem Content="ro"/><ComboBoxItem Content="fa"/><ComboBoxItem Content="cs"/><ComboBoxItem Content="id"/><ComboBoxItem Content="th"/><ComboBoxItem Content="hr"/><ComboBoxItem Content="tr"/><ComboBoxItem Content="si"/><ComboBoxItem Content="da"/><ComboBoxItem Content="uk"/><ComboBoxItem Content="fi"/>
                                </ComboBox>
                            </StackPanel>
                        </Border>

                        <!-- GROUP: Capture Area -->
                        <Border Style="{StaticResource ToolGroupStyle}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="selectAreaButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_SelectArea]}"
                                            Background="#f59e0b" Foreground="Black" Click="SelectAreaButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="â¬š " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <Button x:Name="selectWindowButton" Style="{StaticResource AccentButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_SelectWindow]}"
                                            Click="SelectWindowButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸ–¼ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                            <Button x:Name="btnClearSelectionArea" Style="{StaticResource NeutralButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Clear]}"
                                            Click="btnClearSelectionArea_Click" WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="âœ– " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                            <Button x:Name="showAreaButton" Style="{StaticResource NeutralButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Show]}"
                                            Click="ShowAreaButton_Click" WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸ‘ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_CaptureArea]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                            </StackPanel>
                        </Border>

                        <!-- GROUP: Screen Selection -->
                        <Border Style="{StaticResource ToolGroupStyle}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <ComboBox x:Name="screenSelectionComboBox" 
                                              Width="160" Height="32"
                                              VerticalContentAlignment="Center"
                                              Padding="8,0"
                                              FontSize="12"
                                              SelectionChanged="ScreenSelectionComboBox_SelectionChanged"
                                              WindowChrome.IsHitTestVisibleInChrome="True"
                                              Background="{StaticResource SurfaceBrush}"
                                              BorderBrush="{StaticResource BorderBrush}"
                                              BorderThickness="1">
                                        <ComboBox.Resources>
                                            <Style TargetType="ComboBox">
                                                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                                <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
                                                <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
                                            </Style>
                                        </ComboBox.Resources>
                                    </ComboBox>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_Screen]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                            </StackPanel>
                        </Border>

                        <!-- GROUP: Display -->
                        <Border Style="{StaticResource ToolGroupStyle}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="monitorButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Overlay]}"
                                            Background="#8b5cf6" Click="MonitorButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸ“º " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <Button x:Name="chatBoxButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_ChatBox]}"
                                            Background="#10b981" Click="ChatBoxButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸ’¬ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_DisplayResults]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                            </StackPanel>
                        </Border>

                        <!-- GROUP: System -->
                        <Border Style="{StaticResource ToolGroupStyle}">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="settingsButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Settings]}"
                                            Background="#64748b" Click="SettingsButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="âš™ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <Button x:Name="logButton" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Log]}"
                                            Background="#a855f7" Click="LogButton_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="ðŸ“‹ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_System]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                            </StackPanel>
                        </Border>

                        <!-- GROUP: OCR Server -->
                        <Border x:Name="OcrServerBorder" Style="{StaticResource ToolGroupStyle}" Visibility="Collapsed">
                            <StackPanel x:Name="OcrServerPanel" Visibility="Collapsed">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="btnStartOcrServer" Style="{StaticResource AccentButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_StartOCR]}"
                                            Click="btnStartOcrServer_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="â–¶ " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <Button x:Name="btnStopOcrServer" Style="{StaticResource ModernButton}"
                                            Content="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_StopOCR]}"
                                            Background="#dc2626" Click="btnStopOcrServer_Click"
                                            WindowChrome.IsHitTestVisibleInChrome="True">
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="â–  " FontSize="10" VerticalAlignment="Center"/>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                </StackPanel>
                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Grp_OCREngine]}" 
                                           Style="{StaticResource ToolGroupLabel}"/>
                            </StackPanel>
                        </Border>

                        <!-- Spacer -->
                        <Border Width="Auto" HorizontalAlignment="Stretch"/>

                        <!-- Right side actions moved into Hotkeys header -->
                    </WrapPanel>
                </Border>
                
                <!-- ========== MAIN CONTENT ========== -->
                <Grid Name="OverlayContent" Grid.Row="2">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="16">
                        <StackPanel>
                            <!-- Status Badges Row -->
                            <WrapPanel Margin="0,0,0,16">
                                <Border Style="{StaticResource StatusBadge}">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="StartStatusEllipse" Width="8" Height="8" Fill="#ef4444" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Start]}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="12"/>
                                        <TextBlock Text=": " Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                        <TextBlock x:Name="StartStatusText" Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Off]}" Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                    </StackPanel>
                                </Border>
                                <Border Style="{StaticResource StatusBadge}">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="AudioStatusEllipse" Width="8" Height="8" Fill="#ef4444" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_AudioService]}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="12"/>
                                        <TextBlock Text=": " Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                        <TextBlock x:Name="AudioStatusText" Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Off]}" Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                    </StackPanel>
                                </Border>
                                <Border Style="{StaticResource StatusBadge}">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="OCRStatusEllipse" Width="8" Height="8" Fill="#ef4444" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_StartOCR]}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="12"/>
                                        <TextBlock Text=": " Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                        <TextBlock x:Name="OCRStatusText" Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Off]}" Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                    </StackPanel>
                                </Border>
                                <Border Style="{StaticResource StatusBadge}">
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse x:Name="OverlayStatusEllipse" Width="8" Height="8" Fill="#ef4444" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Overlay]}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="12"/>
                                        <TextBlock Text=": " Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                        <TextBlock x:Name="OverlayStatusText" Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Off]}" Foreground="{StaticResource TextBrush}" FontSize="12"/>
                                    </StackPanel>
                                </Border>
                            </WrapPanel>

                            <!-- Hotkeys Card -->
                            <!-- Compact toggle is placed *outside* the collapsible panel so it remains visible when content is hidden -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,6,0,6">
                                <Button x:Name="compactToggleButton" Style="{StaticResource NeutralButton}" Width="34" Height="30" Margin="8,0,0,0" Click="CompactToggleButton_Click" ToolTip="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_Compact_Hide]}">
                                    <TextBlock x:Name="compactToggleIcon" Text="â–¸" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Button>
                            </StackPanel>

                            <StackPanel x:Name="CollapsibleMainContent" Visibility="Collapsed">
                                <Border Style="{StaticResource CardStyle}">
                                <StackPanel>
                                    <Grid Margin="0,0,0,14">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                                            <Border Width="4" Height="16" Background="{StaticResource AccentBrush}" CornerRadius="2" Margin="0,0,10,0"/>
                                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_GlobalHotKeys]}" 
                                                       Foreground="{StaticResource AccentBrush}" FontSize="14" FontWeight="Bold"  TextWrapping="Wrap" MaxWidth="420" VerticalAlignment="Center" TextAlignment="Right" HorizontalAlignment="Right"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="8,0,0,0">

                                        </StackPanel>
                                    </Grid>
                                    
                                    <WrapPanel>
                                        <!-- Hotkey Items - Left Column -->
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_StartStopTranslation]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyStartStop" Text="ALT + G" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeySelectArea" Text="ALT + Q" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ToggleOverlay]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyOverlay" Text="ALT + F" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ToggleChatBox]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyChatBox" Text="ALT + C" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ShowAreaBorder]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyShowArea" Text="ALT + B" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_AudioService]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyAudio" Text="ALT + K" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_OpenSettings]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeySetting" Text="ALT + P" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ToggleLog]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyLog" Text="ALT + L" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SwapLanguages]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeySwapLanguages" Text="ALT + V" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ClearAllAreas]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyClearAreas" Text="ALT + R" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_ClearSelectedArea]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyClearPreviousArea" Text="ALT + H" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="220">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_TranslationRetry]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyRetryTranslate" Text="ALT + T" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <!-- Area hotkeys -->
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="180">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea1]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyArea1" Text="ALT + 1" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="180">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea2]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyArea2" Text="ALT + 2" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="180">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea3]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyArea3" Text="ALT + 3" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="180">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea4]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyArea4" Text="ALT + 4" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                        <Border Style="{StaticResource HotkeyItem}" MinWidth="180">
                                            <Grid><Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SelectArea5]}" 
                                                           Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center"/>
                                                <Border Grid.Column="1" Style="{StaticResource HotkeyKey}">
                                                    <TextBlock x:Name="hotKeyArea5" Text="ALT + 5" FontFamily="Consolas" FontSize="11" Foreground="{StaticResource TextBrush}"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </WrapPanel>
                                </StackPanel>
                            </Border>
                            </StackPanel> <!-- /CollapsibleMainContent -->

                            <!-- Info Section -->
                            <Grid x:Name="InfoSectionGrid">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- About Box -->
                                <Border Grid.Column="0" Style="{StaticResource CardStyle}">
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                            <Border Width="4" Height="16" Background="{StaticResource AccentBrush}" CornerRadius="2" Margin="0,0,10,0"/>
                                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_DeveloperInfo]}" 
                                                       Foreground="{StaticResource AccentBrush}" FontSize="14" FontWeight="Bold"/>
                                        </StackPanel>
                                        <TextBlock Text="RSTGameTranslation" FontSize="16" FontWeight="Bold" 
                                                   Foreground="{StaticResource TextBrush}" Margin="0,0,0,4"/>
                                        <TextBlock x:Name="AppVersion" Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[App_Version]}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="12" Margin="0,0,0,8"/>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[App_Description]}" 
                                                   Foreground="{StaticResource TextBrush}" FontSize="13" TextWrapping="Wrap" Margin="0,0,0,10"/>
                                        <TextBlock Foreground="{StaticResource MutedBrush}" FontSize="12" Margin="0,0,0,4">
                                            <Run Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_DevelopedBy], Mode=OneWay}"/>
                                            <Run Text=" thanhkeke97" Foreground="{StaticResource TextBrush}" FontWeight="SemiBold"/>
                                        </TextBlock>
                                        <TextBlock FontSize="12" Margin="0,0,0,4">
                                            <Run Text="GitHub: " Foreground="{StaticResource MutedBrush}"/>
                                            <Hyperlink NavigateUri="https://github.com/thanhkeke97" RequestNavigate="TutorialLink_RequestNavigate" Foreground="{StaticResource AccentBrush}">
                                                github.com/thanhkeke97
                                            </Hyperlink>
                                        </TextBlock>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_Copyright], Mode=OneWay}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="11" Margin="0,8,0,0"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Support Box -->
                                <Border Grid.Column="2" Style="{StaticResource CardStyle}">
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                            <Border Width="4" Height="16" Background="{StaticResource AccentBrush}" CornerRadius="2" Margin="0,0,10,0"/>
                                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_SupportAuthor]}" 
                                                       Foreground="{StaticResource AccentBrush}" FontSize="14" FontWeight="Bold"/>
                                        </StackPanel>
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Msg_SupportAuthor]}" 
                                                   Foreground="{StaticResource TextBrush}" FontSize="13" TextWrapping="Wrap" Margin="0,0,0,12"/>
                                        <!-- Donate Button -->
                                        <Button x:Name="donateBtn" Style="{StaticResource ModernButton}"
                                                Background="#fbbf24" Margin="0,0,0,8" HorizontalAlignment="Left"
                                                Click="DonateButton_Click">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="â˜• " FontSize="14" Margin="0,0,8,0"/>
                                                <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Btn_SupportBuyMeACoffee]}" FontWeight="SemiBold"/>
                                            </StackPanel>
                                        </Button>
                                        
                                        <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Msg_Disclaimer], Mode=OneWay}" 
                                                   Foreground="{StaticResource MutedBrush}" FontSize="11" FontStyle="Italic" TextWrapping="Wrap"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
                
                <!-- ========== FOOTER ========== -->
                <Border Name="FooterBorder" Grid.Row="3" Background="{StaticResource Surface2Brush}" 
                        CornerRadius="0,0,12,12" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
                    <Grid Height="40" Margin="16,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_Language_Interface], Mode=OneWay}" 
                                       Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <ComboBox x:Name="languageSelector" Width="110" Height="26" Padding="8,4"
                                      VerticalAlignment="Center" SelectionChanged="LanguageSelector_SelectionChanged">
                                <ComboBoxItem Content="English" Tag="en"/>
                                <ComboBoxItem Content="Tiáº¿ng Viá»‡t" Tag="vi"/>
                                <ComboBoxItem Content="ä¸­æ–‡" Tag="zh_cn"/>
                                <ComboBoxItem Content="æ—¥æœ¬èªž" Tag="ja"/>
                                <ComboBoxItem Content="í•œêµ­ì–´" Tag="ko"/>
                                <ComboBoxItem Content="Ð ÑƒÑÑÐºÐ¸Ð¹" Tag="ru"/>
                            </ComboBox>

                            <TextBlock Text="|" Foreground="{StaticResource BorderBrush}" Margin="16,0" VerticalAlignment="Center"/>

                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_Author], Mode=OneWay}" 
                                       Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="Thanh Pham" Foreground="{StaticResource TextBrush}" FontSize="12" VerticalAlignment="Center"/>

                            <TextBlock Text="|" Foreground="{StaticResource BorderBrush}" Margin="16,0" VerticalAlignment="Center"/>

                            <TextBlock Text="{Binding Source={x:Static local:LocalizationManager.Instance}, Path=Strings[Lbl_Email], Mode=OneWay}" 
                                       Foreground="{StaticResource MutedBrush}" FontSize="12" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="thanhct1507@gmail.com" Foreground="{StaticResource TextBrush}" FontSize="12" VerticalAlignment="Center"/>
                            <TextBlock Text="|" Foreground="{StaticResource BorderBrush}" Margin="16,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Border>
        
        <!-- Resize grip indicator -->
        <Path Data="M 0,10 L 10,0 M 0,5 L 5,0 M 0,0 L 0,0" Stroke="#44FFFFFF" StrokeThickness="1"
              Width="10" Height="10" HorizontalAlignment="Right" VerticalAlignment="Bottom"
              Margin="0,0,5,5" Stretch="Fill"/>
    </Grid>
</Window>